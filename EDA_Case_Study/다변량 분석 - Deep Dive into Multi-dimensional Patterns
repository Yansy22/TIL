# PCA (주성분 분석) 정리

PCA(Principal Component Analysis)는 고차원(피처가 많은) 데이터를 **차원 축소(Dimension Reduction)**하는 대표적인 기법이다.

하지만 PCA의 진정한 가치는 단순히 차원을 줄이는 데만 있지 않다.

## 1. PCA의 작동 원리: "가장 긴 그림자 찾기"

PCA는 데이터가 **가장 많이 흩어져 있는(분산이 가장 큰) 방향**을 찾는 방식으로 새로운 '축'(특성)을 만들어낸다.

* **PC1 (첫 번째 주성분):** 데이터의 분산이 가장 큰 방향(축). 원본 데이터의 정보를 가장 많이(가장 긴 그림자) 함축한다.
* **PC2 (두 번째 주성분):** PC1에 수직(90도)이면서, 그다음으로 분산이 큰 방향이다.
* **PC3, PC4...:** 이전의 모든 축과 수직이면서, 남아있는 정보(분산)를 가장 잘 설명하는 다음 방향을 계속 찾아낸다.

이렇게 찾은 새로운 축(PC1, PC2...)은 **"기존 피처들의 조합 레시피"**를 의미한다.
(예: `PC2 = (0.7 * tenure) + (-0.6 * frequent) + ...`)

## 2. PCA의 핵심 활용법: EDA 관점

PCA의 활용 목적은 두 가지로 나뉜다.

### ① 차원 축소 (Dimension Reduction)
* **목표:** 모델의 속도를 높이거나 과적합을 방지하기 위해 피처 개수를 줄이는 것.
* **판단:** **스크리 플롯(Scree Plot)**의 '누적 설명 분산(Cumulative Variance)' 그래프를 보고, 90~95%의 정보를 설명하는 최소한의 주성분 개수(예: 3개)를 선택한다.

### ② EDA 및 피처 엔지니어링 (숨겨진 패턴 발견)
* **이것이 PCA의 핵심 가치이다.** 차원 축소에 실패하더라도(예: 6개 피처를 5개로밖에 못 줄임) PCA는 그 자체로 훌륭한 탐색(EDA) 도구이다.
* **주성분 로딩(Loadings) 히트맵**을 통해 기존 피처들이 **어떻게 서로 묶이는지(테마)**를 파악할 수 있다.
* **나의 발견 (도메인 지식):**
    `tenure`(가입 기간)와 `frequent`(접속 빈도)가 PC2에서 서로 강한 반대 방향(양수/음수)으로 묶였다.
* **다음 단계 (EDA 방향성):**
    이는 두 피처가 숨겨진 음의 관계를 갖는다는 뜻이다. 이 인사이트를 바탕으로 **`active_ratio = frequent / tenure`** 같은, **사람이 이해할 수 있는 새로운 파생 변수**를 만들어 볼 수 있다.

## 3. PCA의 "비용": 해석 가능성의 상실

PCA를 "무조건" 쓰는 것이 이득은 아니다. 특히 모델링 단계에서 사용할 경우, **'해석 가능성(Interpretability)'**을 잃는 큰 비용이 발생한다.

* **원본 피처:** "나이가 1살 증가할수록..." (✅ 명확하게 해석 가능)
* **PCA 피처:** "PC1(`(0.5*age) + (-0.5*contract_length) + ...`)이 1 증가할수록..." (❌ **해석 불가능**)

### 나의 결론

1.  **EDA 단계**에서는 PCA를 적극 활용하여, 피처 간의 숨겨진 관계를 파악하고 **피처 엔지니어링 아이디어**를 얻는 '탐색용' 도구로 쓴다.
2.  **모델링 단계**에서는 모델의 **'설명'이 중요**하다면, `PC1` 자체를 넣기보다 EDA에서 얻은 인사이트로 만든 **'사람이 이해할 수 있는' 파생 변수**를 만들어 넣는 것이 더 현명하다.
